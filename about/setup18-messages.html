<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
        serverside validation for secure input
        serverside validation for tests input against database
        clientside validation for userexperience
        clientside validation for immidiate response 

        add the django message framework
        for display messages in register form

        a middelware class, depending on the session middleware class
        in src/settings.py  already registerd:
                'django.contrib.sessions',
                'django.contrib.messages',

        The messages are placed in there own tags
        message tags are the lowecase name of the message constant (uppercase)


        To change the default tags for a message level (either built-in or custom), 
        set the MESSAGE_TAGS setting to a dictionary containing the levels you wish to change. 
        As this extends the default tags,
        you only need to provide tags for the levels you wish to override:
        in src/settings.py
                from django.contrib.messages import constants as messages
                MESSAGE_TAGS = {
                    messages.ERROR: 'danger',               
                }
    -->
    <!--
        create a template/partials/_messages.html

        #{% if messages %}
        #{% for message in messages %}
        #<div id="message" class="container">
        #    <div class="alert alert-danger"></div>   --normally bootstrap
        #</div>


            {% if messages %}
                {% for message in messages %}
                <div id="message" class="container">
                    <div class="alert alert-{{ message.tags }} alert-dismissible text-center" role="alert">
                    <button type="button" class="close" data-dismiss="alert">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <strong>
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                            ERROR
                        {% else %}
                            {{ message.tags|title }}
                        {% endif %}
                    </strong>
                    {{ message }}
                    </div>
                </div>
                {% endfor %}
            {% endif %}
    -->

    <!--
    test messages 
    add message to views   
            def register(request):
                if request.method == 'POST':
                    #print('submit post request')  test for post
                    #return redirect('register') test fot post
                    message.error(request, "testing error messages")
                    return redirect('register')
                else:
                    return render(request, 'accounts/register.html')

        
    output message in the templates register and login partial:
                <div class="card-body">
                {% include 'partials/_messages.html' %}
                    <form action="{% url 'register' %}" method="POST">{% csrf_token %}
    -->
    <!--
        to automattically let the message fade away
        put in some javascript
        in static/main.js:
                //Automatically fade out messages
                setTimeout(function() {
                    $('#message').fadeOut('slow')
                }, 3000);
    -->
    <!--
        empty the cache of the browser:  windows:   shift+f5
    -->

    
</body>
</html>